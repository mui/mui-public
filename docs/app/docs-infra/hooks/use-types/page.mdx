# Use Types

Display type information within a `TypesContent` component by converting HAST nodes to React elements.

## Overview

The `useTypes` hook processes type metadata generated by the [`loadPrecomputedTypesMeta`](../../functions/load-precomputed-types-meta/page.mdx) loader. It converts HAST (Hypertext Abstract Syntax Tree) nodes into React elements for rendering.

**Key Responsibilities:**

- Converts HAST nodes to `React.ReactNode` using [`hastToJsx`](../../functions/hast-utils/page.mdx)
- Transforms type fields (`type`, `description`, `example`) from HAST to JSX
- Provides processed types ready for React rendering

**Data Flow:**

```
Build Time (Webpack Loader)
──────────────────────────
TypeScript Component
    ↓
Extract types (typescript-api-extractor)
    ↓
Format as HAST nodes (syntax highlighting)
    ↓
Embed in source code as JSON

Runtime (React)
───────────────
Import factory with embedded HAST
    ↓
useTypes hook converts HAST → React.ReactNode
    ↓
TypesContent component renders
```

**Key Points:**

- **Build time**: TypeScript types are extracted and formatted as HAST (syntax-highlighted AST)
- **Runtime**: `useTypes` converts HAST to `React.ReactNode` via `hastToJsx()`
- **Display**: Your components render the processed React nodes

Types are built using [`typescript-api-extractor`](https://github.com/michaldudak/typescript-api-extractor) and formatted with syntax highlighting at build time.

## Basic Usage

import { DemoUseTypesBasic } from './demos/basic';

<DemoUseTypesBasic.Title />

This page demonstrates how to use the <code>useTypes</code> hook to extract and display type information from React components.

<DemoUseTypesBasic />

[See Demo](./demos/basic/)

---

import { DemoUseTypesDataAttr } from './demos/data-attr';

<DemoUseTypesDataAttr.Title />

This demo shows how to display data attributes defined in a component using the `useTypes` hook.

<DemoUseTypesDataAttr />

[See Demo](./demos/data-attr/)

---

import { DemoUseTypesHook } from './demos/hook';

<DemoUseTypesHook.Title />

This demo illustrates how to use the `useTypes` hook to extract and display type information from a custom React hook.

<DemoUseTypesHook />

[See Demo](./demos/hook/)

---

import { DemoUseTypesBlocks } from './demos/blocks';

<DemoUseTypesBlocks.Title />

This demo illustrates how to use the `useTypes` hook to extract and display type information from a custom React hook.

<DemoUseTypesBlocks />

[See Demo](./demos/blocks/)

---

import { DemoUseTypesBlocksDataAttr } from './demos/blocks-data-attr';

<DemoUseTypesBlocksDataAttr.Title />

This demo illustrates how to use the `useTypes` hook to extract and display type information from a custom React hook.

<DemoUseTypesBlocksDataAttr />

[See Demo](./demos/blocks-data-attr/)

---

## Type Conversion

The hook converts build-time HAST structures into runtime React elements:

### Formatted Types (Build-time)

From the webpack loader, stored in JSON files:

```typescript
interface FormattedProperty {
  type: HastRoot; // Syntax-highlighted HAST
  description?: HastRoot; // Parsed markdown HAST
  example?: HastRoot; // Parsed markdown HAST
  default?: HastRoot; // Syntax-highlighted HAST
  // ... other fields
}
```

### Processed Types (Runtime)

After `useTypes` conversion, ready for React rendering:

```typescript
interface ProcessedProperty {
  type: React.ReactNode; // Rendered JSX elements
  description?: React.ReactNode; // Rendered markdown
  example?: React.ReactNode; // Rendered examples
  default?: React.ReactNode; // Rendered defaults
  // ... other fields
}
```

The conversion happens automatically when you call `useTypes()`:

```typescript
// Input: HAST nodes from loader
const contentProps: TypesContentProps = {
  types: [
    {
      type: 'component',
      name: 'Button',
      data: {
        props: {
          variant: {
            type: /* HastRoot with syntax highlighting */,
            description: /* HastRoot with parsed markdown */
          }
        }
      }
    }
  ]
};

// Conversion: HAST → React.ReactNode
const processed = useTypes(contentProps);

// Output: Ready to render
processed.types[0].data.props.variant.type; // React.ReactNode
```

---

## API

import { TypesUseTypes } from './types';

<TypesUseTypes />

[See Types](./types.md)

---

## Related

- **[`abstractCreateTypes`](../../functions/abstract-create-types/page.mdx)**: Factory functions for creating type documentation components
- **[`loadPrecomputedTypesMeta`](../../functions/load-precomputed-types-meta/page.mdx)**: Build-time loader that extracts types as HAST
- **[HAST Pattern](../../patterns/hast/page.mdx)**: Understanding the HAST format
