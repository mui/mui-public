# Use Code

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly), run: pnpm docs:validate docs-infra/hooks/use-code'

## API Reference

### useCode

**useCode Parameters:**

| Parameter    | Type               | Default | Description |
| :----------- | :----------------- | :------ | :---------- |
| contentProps | `ContentProps<{}>` | -       | -           |
| opts         | `UseCodeOpts`      | -       | -           |

**useCode Return Value:**

```tsx
type ReturnValue = UseCodeResult<{}>;
```

## Additional Types

### UseCodeOpts

```typescript
type UseCodeOpts = {
  preClassName?: string;
  preRef?: React.Ref<HTMLPreElement>;
  defaultOpen?: boolean;
  copy?: UseCopierOpts;
  githubUrlPrefix?: string;
  initialVariant?: string;
  initialTransform?: string;
  fileHashMode?: 'remove-hash' | 'remove-filename';
  saveHashVariantToLocalStorage?: 'on-load' | 'on-interaction' | 'never';
  sourceEnhancers?: SourceEnhancer[];
};
```

### UseCodeResult

```typescript
type UseCodeResult = {
  variants: string[];
  selectedVariant: string;
  selectVariant: (variant: string | null) => void;
  files: { name: string; slug?: string; component: React.ReactNode }[];
  selectedFile: React.ReactNode;
  selectedFileLines: number;
  selectedFileName: string | undefined;
  selectFileName: (fileName: string) => void;
  allFilesSlugs: { fileName: string; slug: string; variantName: string }[];
  expanded: boolean;
  expand: () => void;
  setExpanded: (expanded: boolean) => void;
  copy: (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => Promise<void>;
  availableTransforms: string[];
  selectedTransform: string | null | undefined;
  selectTransform: (transformName: string | null) => void;
  setSource?: (source: string) => void;
  userProps: UserProps<{}>;
};
```

## External Types

### SourceEnhancer

```typescript
type SourceEnhancer = (
  root: { data?: unknown | undefined },
  comments: {} | undefined,
  fileName: string,
) => { data?: unknown | undefined } | Promise;
```
