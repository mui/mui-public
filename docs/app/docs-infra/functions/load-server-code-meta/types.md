# Load Server Code Meta

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly)'

## API Reference

### DirectoryEntry

```typescript
type DirectoryEntry = { name: string; isFile: boolean; isDirectory: boolean };
```

### DirectoryEntry.DirectoryReader

```typescript
type DirectoryEntryDirectoryReader = (path: string) => Promise<DirectoryEntry[]>;
```

### DirectoryEntry.isJavaScriptModule

Checks if a file path or import path represents a JavaScript/TypeScript module

```typescript
(path: string) => boolean;
```

### DirectoryEntry.JAVASCRIPT_MODULE_EXTENSIONS

Default file extensions for JavaScript/TypeScript modules that can be resolved

```typescript
['.ts', '.tsx', '.js', '.jsx', '.mdx', '.d.ts'];
```

### DirectoryEntry.resolveImportResult

Resolves import result by separating JavaScript modules from static assets,
only resolving JavaScript modules and returning a combined map.
This function uses the new type-aware resolveModulePath function internally.

```typescript
(
  importResult: Record<
    string,
    {
      url: string;
      names: string[];
      includeTypeDefs?: true;
      positions?: { start: number; end: number }[];
    }
  >,
  readDirectory: (path: string) => Promise<DirectoryEntry[]>,
  options?: { extensions?: string[] },
) => Promise<Map<string, string>>;
```

### DirectoryEntry.resolveModulePath

Resolves a module path by reading directory contents to find matching files.
This is more efficient than checking each file individually with stat calls.

Given a path like `file:///Code/mui-public/packages/docs-infra/docs/app/components/code-highlighter/demos/code/BasicCode`,
this function will try to find the actual file by checking for:

- `BasicCode.ts`, `BasicCode.tsx`, `BasicCode.js`, `BasicCode.jsx`
- `BasicCode/index.ts`, `BasicCode/index.tsx`, `BasicCode/index.js`, `BasicCode/index.jsx`

```typescript
(
  moduleUrl: string,
  readDirectory: (path: string) => Promise<DirectoryEntry[]>,
  options?: { extensions?: string[] },
  includeTypeDefs?: boolean,
) => Promise<string | TypeAwareResolveResult>;
```

### DirectoryEntry.ResolveModulePathOptions

```typescript
type ResolveModulePathOptions = { extensions?: string[] };
```

### DirectoryEntry.resolveModulePaths

Resolves multiple module paths efficiently by grouping them by directory
and performing batch directory lookups.

```typescript
(
  modulePaths: string[],
  readDirectory: (path: string) => Promise<DirectoryEntry[]>,
  options?: { extensions?: string[] },
) => Promise<Map<string, string>>;
```

### DirectoryEntry.resolveVariantPaths

Resolves variant paths from a variants object mapping variant names to their file paths.
This function extracts the paths, resolves them using resolveModulePaths, and returns
a map from variant name to resolved file URL.

```typescript
(
  variants: Record<string, string>,
  readDirectory: (path: string) => Promise<DirectoryEntry[]>,
  options?: { extensions?: string[] },
) => Promise<Map<string, string>>;
```

### DirectoryEntry.TYPE_IMPORT_EXTENSIONS

Extension priority for type-only imports - prioritize .d.ts first

```typescript
['.d.ts', '.ts', '.tsx', '.js', '.jsx', '.mdx'];
```

### DirectoryEntry.TypeAwareResolveResult

```typescript
type TypeAwareResolveResult = { import: string; typeImport?: string };
```

### DirectoryEntry.VALUE_IMPORT_EXTENSIONS

Extension priority for value imports - standard priority with .d.ts last

```typescript
['.ts', '.tsx', '.js', '.jsx', '.mdx', '.d.ts'];
```
