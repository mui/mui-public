# Load Server Code Meta

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly)'

## API Reference

### CreateLoadCodeMetaOptions

```typescript
type CreateLoadCodeMetaOptions = {};
```

### createLoadServerCodeMeta

Creates a loadCodeMeta function that resolves variant paths from demo files.

This factory function creates a LoadCodeMeta implementation that:

1. Parses the demo file to find createDemo calls with variants
2. Resolves all variant entry point paths using resolveVariantPaths
3. Returns a Code object mapping variant names to their resolved file URLs

The actual loading, parsing, and transformation of the variants is handled
elsewhere by the CodeHighlighter component using loadCodeVariant.

```typescript
type createLoadServerCodeMeta = (
  _options?: CreateLoadCodeMetaOptions,
) => (url: string) => Promise<Code>;
```

### DirectoryEntry

```typescript
type DirectoryEntry = { name: string; isFile: boolean; isDirectory: boolean };
```

### DirectoryReader

```typescript
type DirectoryReader = (path: string) => Promise<DirectoryEntry[]>;
```

### loadServerCodeMeta

Default loadServerCodeMeta function that resolves variant paths from demo files.
This function is used to load code metadata for demos, specifically resolving paths for variants defined in the demo files.
It reads the demo file, parses it to find `createDemo` calls with variants, and resolves the paths for those variants.
It returns a Code object mapping variant names to their resolved file URLs.

```typescript
type LoadCodeMeta = (url: string) => Promise<Code>;
```

### resolveImportResultWithFs

Resolves import result by separating JavaScript modules from static assets,
only resolving JavaScript modules and returning a combined map.
This is a convenience wrapper around the generic resolveImportResult function
that uses Node.js filesystem APIs.

```typescript
type resolveImportResultWithFs = (
  importResult: Record<
    string,
    {
      url: string;
      names: string[];
      includeTypeDefs?: true;
      positions?: { start: number; end: number }[];
    }
  >,
  options?: ResolveModulePathOptions,
) => Promise<Map<string, string>>;
```

### ResolveModulePathOptions

```typescript
type ResolveModulePathOptions = { extensions?: string[] };
```

### resolveModulePathsWithFs

Resolves multiple module paths using Node.js filesystem APIs.
This is a convenience wrapper around the generic resolveModulePaths function.

```typescript
type resolveModulePathsWithFs = (
  moduleUrls: string[],
  options?: ResolveModulePathOptions,
) => Promise<Map<string, string>>;
```

### resolveModulePathWithFs

Resolves a module path using Node.js filesystem APIs.
This is a convenience wrapper around the generic resolveModulePath function.

```typescript
type resolveModulePathWithFs =
  | ((modulePath: string, options?: ResolveModulePathOptions) => Promise<string>)
  | ((
      modulePath: string,
      options: { extensions?: string[] },
      includeTypeDefs: true,
    ) => Promise<TypeAwareResolveResult>);
```

### resolveVariantPathsWithFs

Resolves variant paths from a variants object mapping variant names to their file paths.
This is a convenience wrapper around the generic resolveVariantPaths function
that uses Node.js filesystem APIs.

```typescript
type resolveVariantPathsWithFs = (
  variants: Record<string, string>,
  options?: ResolveModulePathOptions,
) => Promise<Map<string, string>>;
```
