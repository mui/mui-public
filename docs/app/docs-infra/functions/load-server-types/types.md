# Load Server Types

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly)'

## API Reference

### EnhancedComponentTypeMeta

```typescript
type EnhancedComponentTypeMeta = {
  props: Record<string, EnhancedProperty>;
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  dataAttributes: Record<string, FormattedEnumMember>;
  cssVariables: Record<string, FormattedEnumMember>;
};
```

### EnhancedHookTypeMeta

```typescript
type EnhancedHookTypeMeta = {
  parameters: Record<string, EnhancedProperty | EnhancedParameter>;
  returnValue: Record<string, EnhancedProperty> | HastRoot;
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  returnValueText?: string;
};
```

### EnhancedParameter

```typescript
type EnhancedParameter = {
  type: HastRoot;
  default?: HastRoot;
  typeText: string;
  defaultText?: string;
  optional?: true;
  description?: HastRoot;
  descriptionText?: string;
  example?: HastRoot;
  exampleText?: string;
};
```

### EnhancedProperty

```typescript
type EnhancedProperty = {
  type: HastRoot;
  shortType?: HastRoot;
  shortTypeText?: string;
  default?: HastRoot;
  detailedType?: HastRoot;
  typeText: string;
  defaultText?: string;
  required?: true;
  description?: HastRoot;
  descriptionText?: string;
  example?: HastRoot;
  exampleText?: string;
};
```

### EnhancedTypesMeta

```typescript
type EnhancedTypesMeta =
  | { type: 'component'; name: string; data: EnhancedComponentTypeMeta }
  | { type: 'hook'; name: string; data: EnhancedHookTypeMeta }
  | { type: 'other'; name: string; data: any; reExportOf?: string };
```

### loadServerTypes

Server-side function for loading and processing TypeScript types.

This function:

1. Calls syncTypes to process TypeScript types and generate markdown
2. Applies syntax highlighting to markdown content via highlightTypes
3. Enhances type fields with HAST via enhanceCodeTypes

The pipeline is:

- syncTypes: extracts types, formats to plain text, generates markdown
- highlightTypes: highlights markdown code blocks, builds highlightedExports map
- enhanceCodeTypes: converts type text to HAST, derives shortType/detailedType

```typescript
type loadServerTypes = (options?: {
  resourcePath: string;
  resourceName: string;
  rootContext: string;
  relativePath: string;
  typesMetaCall: {
    functionName: string;
    url: string;
    variants: Record<string, string> | undefined;
    namedExports: Record<string, string | undefined> | undefined;
    options: { name?: string; slug?: string; skipPrecompute?: boolean; precompute?: any };
    fullMatch: string;
    hasOptions: boolean;
    externals: {
      [key: string]: { name: string; type: 'named' | 'default' | 'namespace'; isType?: boolean }[];
    };
    argumentsStartIndex: number;
    argumentsEndIndex: number;
    structuredUrl: string;
    structuredVariants:
      | string
      | Record<string, string>
      | (string | any[] | Record<string, any>)[]
      | undefined;
    structuredOptions?: Record<string, any>;
    hasGenerics: boolean;
    structuredGenerics?: Record<string, any>;
    remaining?: string;
    importsAndComments?: ImportsAndComments;
  };
  formattingOptions?: FormatInlineTypeOptions;
  socketDir?: string;
  performanceLogging?: boolean;
}) => Promise<LoadServerTypesResult>;
```

### LoadServerTypesOptions

```typescript
type LoadServerTypesOptions = {
  resourcePath: string;
  resourceName: string;
  rootContext: string;
  relativePath: string;
  typesMetaCall: {
    functionName: string;
    url: string;
    variants: Record<string, string> | undefined;
    namedExports: Record<string, string | undefined> | undefined;
    options: { name?: string; slug?: string; skipPrecompute?: boolean; precompute?: any };
    fullMatch: string;
    hasOptions: boolean;
    externals: {
      [key: string]: { name: string; type: 'named' | 'default' | 'namespace'; isType?: boolean }[];
    };
    argumentsStartIndex: number;
    argumentsEndIndex: number;
    structuredUrl: string;
    structuredVariants:
      | string
      | Record<string, string>
      | (string | any[] | Record<string, any>)[]
      | undefined;
    structuredOptions?: Record<string, any>;
    hasGenerics: boolean;
    structuredGenerics?: Record<string, any>;
    remaining?: string;
    importsAndComments?: ImportsAndComments;
  };
  formattingOptions?: FormatInlineTypeOptions;
  socketDir?: string;
  performanceLogging?: boolean;
};
```

### LoadServerTypesResult

```typescript
type LoadServerTypesResult = {
  highlightedVariantData: Record<
    string,
    { types: EnhancedTypesMeta[]; typeNameMap?: Record<string, string> }
  >;
  allDependencies: string[];
  allTypes: TypesMeta[];
  typeNameMap?: Record<string, string>;
};
```

### TypesMeta

```typescript
type TypesMeta =
  | { type: 'component'; name: string; data: ComponentTypeMeta }
  | { type: 'hook'; name: string; data: HookTypeMeta }
  | { type: 'other'; name: string; data: ExportNode; reExportOf?: string };
```
