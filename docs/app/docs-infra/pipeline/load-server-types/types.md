# Load Server Types

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly), run: pnpm docs:validate docs-infra/pipeline/load-server-types'

## API Reference

### loadServerTypes

Server-side function for loading and processing TypeScript types.

This function:

1. Either syncs types from source (sync: true) or loads from existing types.md (sync: false)
2. Applies syntax highlighting to markdown content via highlightTypes
3. Highlights type fields with HAST via highlightTypesMeta

The pipeline is:

- sync: true: syncTypes extracts types, formats to plain text, generates markdown
- sync: false: loadServerTypesText reads and parses an existing types.md file
- highlightTypes: highlights markdown code blocks, builds highlightedExports map
- highlightTypesMeta: converts type text to HAST, derives shortType/detailedType

**Parameters:**

| Parameter | Type                                                                                                                                                                                                                                                                                                                                                                                                                | Default | Description |
| :-------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :------ | :---------- |
| options   | `{ sync?: boolean; typesMarkdownPath: string; rootContext: string; variants?: Record<string, string>; watchSourceDirectly?: boolean; formattingOptions?: FormatInlineTypeOptions; socketDir?: string; performanceLogging?: boolean; updateParentIndex?: { baseDir?: string; onlyUpdateIndexes?: boolean; markerDir?: string; errorIfOutOfDate?: boolean; indexFileName?: string }; externalTypesPattern?: string }` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = Promise<LoadServerTypesResult>;
```

## Additional Types

### EnhancedClassProperty

```typescript
type EnhancedClassProperty = {
  isStatic?: boolean;
  readonly?: boolean;
  type: Root;
  shortType?: Root;
  shortTypeText?: string;
  default?: Root;
  detailedType?: Root;
  typeText: string;
  defaultText?: string;
  required?: true;
  description?: Root;
  descriptionText?: string;
  example?: Root;
  exampleText?: string;
  see?: Root;
  seeText?: string;
};
```

### EnhancedClassTypeMeta

```typescript
type EnhancedClassTypeMeta = {
  constructorParameters: Record<string, EnhancedParameter>;
  properties: Record<string, EnhancedClassProperty>;
  methods: Record<string, EnhancedMethod>;
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  typeParameters?: string[];
};
```

### EnhancedComponentTypeMeta

```typescript
type EnhancedComponentTypeMeta = {
  props: Record<string, EnhancedProperty>;
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  dataAttributes: Record<string, FormattedEnumMember>;
  cssVariables: Record<string, FormattedEnumMember>;
};
```

### EnhancedEnumMemberMeta

```typescript
type EnhancedEnumMemberMeta = {
  description?: Root;
  name: string;
  descriptionText?: string;
  value?: string | number;
};
```

### EnhancedFunctionTypeMeta

```typescript
type EnhancedFunctionTypeMeta = {
  parameters: Record<string, EnhancedParameter>;
  returnValue: Record<string, EnhancedProperty> | Root;
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  returnValueText?: string;
  returnValueDescription?: HastRoot;
  returnValueDescriptionText?: string;
};
```

### EnhancedHookTypeMeta

```typescript
type EnhancedHookTypeMeta = {
  parameters: Record<string, EnhancedParameter | EnhancedProperty>;
  returnValue: Record<string, EnhancedProperty> | Root;
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  returnValueText?: string;
  returnValueDescription?: HastRoot;
  returnValueDescriptionText?: string;
};
```

### EnhancedMethod

```typescript
type EnhancedMethod = {
  parameters: Record<string, EnhancedParameter>;
  returnValue: Root;
  returnValueDescription?: Root;
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  returnValueDescriptionText?: string;
  isStatic: boolean;
};
```

### EnhancedParameter

```typescript
type EnhancedParameter = {
  type: Root;
  shortType?: Root;
  shortTypeText?: string;
  default?: Root;
  detailedType?: Root;
  typeText: string;
  defaultText?: string;
  optional?: true;
  description?: Root;
  descriptionText?: string;
  example?: Root;
  exampleText?: string;
  see?: Root;
  seeText?: string;
};
```

### EnhancedProperty

```typescript
type EnhancedProperty = {
  type: Root;
  shortType?: Root;
  shortTypeText?: string;
  default?: Root;
  detailedType?: Root;
  typeText: string;
  defaultText?: string;
  required?: true;
  description?: Root;
  descriptionText?: string;
  example?: Root;
  exampleText?: string;
  see?: Root;
  seeText?: string;
};
```

### EnhancedRawTypeMeta

```typescript
type EnhancedRawTypeMeta = {
  description?: Root;
  formattedCode: Root;
  enumMembers?: EnhancedEnumMemberMeta[];
  name: string;
  descriptionText?: string;
  reExportOf?: ReExportInfo;
  dataAttributesOf?: string;
  cssVarsOf?: string;
};
```

### EnhancedTypesMeta

```typescript
type EnhancedTypesMeta =
  | { type: 'component'; name: string; slug?: string; data: EnhancedComponentTypeMeta }
  | { type: 'hook'; name: string; slug?: string; data: EnhancedHookTypeMeta }
  | { type: 'function'; name: string; slug?: string; data: EnhancedFunctionTypeMeta }
  | { type: 'class'; name: string; slug?: string; data: EnhancedClassTypeMeta }
  | { type: 'raw'; name: string; slug?: string; data: EnhancedRawTypeMeta };
```

### LoadServerTypesOptions

```typescript
type LoadServerTypesOptions = {
  sync?: boolean;
  typesMarkdownPath: string;
  rootContext: string;
  variants?: Record<string, string>;
  watchSourceDirectly?: boolean;
  formattingOptions?: FormatInlineTypeOptions;
  socketDir?: string;
  performanceLogging?: boolean;
  updateParentIndex?: {
    baseDir?: string;
    onlyUpdateIndexes?: boolean;
    markerDir?: string;
    errorIfOutOfDate?: boolean;
    indexFileName?: string;
  };
  externalTypesPattern?: string;
};
```

### LoadServerTypesResult

```typescript
type LoadServerTypesResult = {
  exports: Record<string, ExportData>;
  additionalTypes: EnhancedTypesMeta[];
  variantTypeNames: Record<string, string[]>;
  allDependencies: string[];
  typeNameMap?: Record<string, string>;
  anchorMap: Record<string, string>;
};
```

### TypesMeta

```typescript
type TypesMeta =
  | { type: 'class'; name: string; slug?: string; data: ClassTypeMeta }
  | { type: 'component'; name: string; slug?: string; data: ComponentTypeMeta }
  | { type: 'hook'; name: string; slug?: string; data: HookTypeMeta }
  | { type: 'function'; name: string; slug?: string; data: FunctionTypeMeta }
  | { type: 'raw'; name: string; slug?: string; data: RawTypeMeta };
```
