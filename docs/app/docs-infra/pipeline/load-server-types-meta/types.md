# Load Server Types Meta

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly), run: pnpm docs:validate docs-infra/pipeline/load-server-types-meta'

## API Reference

### formatSeeTags

Transform an array of raw `@see` tag values into a markdown bullet list.
Returns `undefined` when the input is empty.

**Parameters:**

| Parameter | Type                      | Default | Description |
| :-------- | :------------------------ | :------ | :---------- |
| values    | `(string \| undefined)[]` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = string | undefined;
```

### loadServerTypesMeta

Loads and formats TypeScript types from source files.

This function handles:

- Loading TypeScript configuration
- Resolving library source files and variants
- Finding meta files (DataAttributes, CssVars)
- Processing types via worker thread
- Formatting component, hook, function, and raw types
- Collecting external types referenced in props/params

The result can be used by syncTypes for markdown generation or by other consumers.

**Parameters:**

| Parameter | Type                                                                                                                                                                                                                   | Default | Description |
| :-------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------ | :---------- |
| options   | `{ typesMarkdownPath: string; rootContext: string; variants?: Record<string, string>; watchSourceDirectly?: boolean; formattingOptions?: FormatInlineTypeOptions; socketDir?: string; externalTypesPattern?: string }` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = Promise<LoadServerTypesMetaResult>;
```

### prettyFormat

**Parameters:**

| Parameter   | Type             | Default | Description |
| :---------- | :--------------- | :------ | :---------- |
| type        | `string`         | -       | -           |
| typeName?   | `string \| null` | -       | -           |
| printWidth? | `number`         | -       | -           |

**Return Value:**

```tsx
type ReturnValue = Promise<string>;
```

### prettyFormatMarkdown

Formats a markdown string with Prettier's markdown parser.
Used for non-code sections of generated markdown to ensure consistent formatting.

**Parameters:**

| Parameter   | Type     | Default | Description                                                        |
| :---------- | :------- | :------ | :----------------------------------------------------------------- |
| markdown    | `string` | -       | The markdown string to format                                      |
| printWidth? | `number` | -       | Optional maximum line width for Prettier formatting (default: 100) |

**Return Value:**

The formatted markdown string

```tsx
type ReturnValue = Promise<string>;
```

## Additional Types

### ClassFormattedProperty

Formatted property metadata for class properties.

```typescript
type ClassFormattedProperty = {
  name: string;
  typeText: string;
  description?: HastRoot;
  descriptionText?: string;
  optional: boolean;
  readonly: boolean;
  isStatic: boolean;
};
```

### ClassTypeMeta

```typescript
type ClassTypeMeta = {
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  constructorParameters: Record<string, FormattedParameter>;
  properties: Record<string, FormattedProperty>;
  methods: Record<string, FormattedMethod>;
  typeParameters?: string[];
};
```

### ComponentTypeMeta

```typescript
type ComponentTypeMeta = {
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  props: Record<string, FormattedProperty>;
  dataAttributes: Record<string, FormattedEnumMember>;
  cssVariables: Record<string, FormattedEnumMember>;
};
```

### EnumMemberMeta

Enum member metadata for raw type enum rendering.

```typescript
type EnumMemberMeta = {
  name: string;
  value?: string | number;
  description?: HastRoot;
  descriptionText?: string;
};
```

### FormatInlineTypeOptions

Options for formatting inline types as HAST.

```typescript
type FormatInlineTypeOptions = {
  shortTypeUnionPrintWidth?: number;
  defaultValueUnionPrintWidth?: number;
  detailedTypePrintWidth?: number;
};
```

### FormattedEnumMember

```typescript
type FormattedEnumMember = { description?: Root; descriptionText?: string; type?: string };
```

### FormattedMethod

Formatted method metadata for class methods.

```typescript
type FormattedMethod = {
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  parameters: Record<string, FormattedParameter>;
  returnValue: string;
  returnValueDescription?: HastRoot;
  returnValueDescriptionText?: string;
  isStatic: boolean;
};
```

### FormattedParameter

```typescript
type FormattedParameter = {
  typeText: string;
  defaultText?: string;
  optional?: true;
  description?: Root;
  descriptionText?: string;
  example?: Root;
  exampleText?: string;
  see?: Root;
  seeText?: string;
};
```

### FormattedProperty

```typescript
type FormattedProperty = {
  typeText: string;
  defaultText?: string;
  required?: true;
  description?: Root;
  descriptionText?: string;
  example?: Root;
  exampleText?: string;
  see?: Root;
  seeText?: string;
};
```

### FunctionTypeMeta

```typescript
type FunctionTypeMeta = {
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  parameters: Record<string, FormattedParameter>;
  returnValue: Record<string, FormattedProperty> | string;
  returnValueText?: string;
  returnValueDescription?: HastRoot;
  returnValueDescriptionText?: string;
};
```

### HookTypeMeta

```typescript
type HookTypeMeta = {
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  parameters: Record<string, FormattedParameter | FormattedProperty>;
  returnValue: Record<string, FormattedProperty> | string;
  returnValueText?: string;
  returnValueDescription?: HastRoot;
  returnValueDescriptionText?: string;
};
```

### LoadServerTypesMetaOptions

```typescript
type LoadServerTypesMetaOptions = {
  typesMarkdownPath: string;
  rootContext: string;
  variants?: Record<string, string>;
  watchSourceDirectly?: boolean;
  formattingOptions?: FormatInlineTypeOptions;
  socketDir?: string;
  externalTypesPattern?: string;
};
```

### LoadServerTypesMetaResult

```typescript
type LoadServerTypesMetaResult = {
  allDependencies: string[];
  typeNameMap?: Record<string, string>;
  externalTypes: Record<string, string>;
  resourceName: string;
  exports: Record<string, { type: TypesMeta; additionalTypes: TypesMeta[] }>;
  additionalTypes: TypesMeta[];
  variantTypeNames: Record<string, string[]>;
  variantTypeNameMaps: Record<string, Record<string, string>>;
};
```

### namespaceParts

```typescript
type namespaceParts = string[];
```

### RawTypeMeta

```typescript
type RawTypeMeta = {
  name: string;
  description?: HastRoot;
  descriptionText?: string;
  formattedCode: string;
  enumMembers?: EnumMemberMeta[];
  reExportOf?: ReExportInfo;
  dataAttributesOf?: string;
  cssVarsOf?: string;
};
```

### ReExportInfo

```typescript
type ReExportInfo = {
  name: string;
  slug: string;
  suffix: 'props' | 'css-variables' | 'data-attributes';
};
```

### TypesMeta

```typescript
type TypesMeta =
  | { type: 'class'; name: string; slug?: string; data: ClassTypeMeta }
  | { type: 'component'; name: string; slug?: string; data: ComponentTypeMeta }
  | { type: 'hook'; name: string; slug?: string; data: HookTypeMeta }
  | { type: 'function'; name: string; slug?: string; data: FunctionTypeMeta }
  | { type: 'raw'; name: string; slug?: string; data: RawTypeMeta };
```

### typeSuffixes

```typescript
type typeSuffixes = string[];
```
