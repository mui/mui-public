# With Docs Infra

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly), run: pnpm docs:validate docs-infra/pipeline/with-docs-infra'

## API Reference

### getDocsInfraMdxOptions

Get default MDX options for docs-infra

**Parameters:**

| Parameter      | Type                  | Default | Description |
| :------------- | :-------------------- | :------ | :---------- |
| customOptions? | `DocsInfraMdxOptions` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = DocsInfraMdxOptions;
```

### withDeploymentConfig

**Parameters:**

| Parameter  | Type         | Default | Description |
| :--------- | :----------- | :------ | :---------- |
| nextConfig | `NextConfig` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = NextConfig;
```

### withDocsInfra

Next.js plugin for MUI docs infrastructure.
Configures webpack loaders, turbopack rules for docs sites.
Use getDocsInfraMdxOptions() with createMDX for MDX integration.

**Parameters:**

| Parameter | Type                   | Default | Description |
| :-------- | :--------------------- | :------ | :---------- |
| options?  | `WithDocsInfraOptions` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = (nextConfig?: NextConfig) => NextConfig;
```

## Additional Types

### DocsInfraMdxOptions

```typescript
type DocsInfraMdxOptions = {
  remarkPlugins?: (string | [string, any])[];
  rehypePlugins?: (string | [string, any])[];
  additionalRemarkPlugins?: (string | [string, any])[];
  additionalRehypePlugins?: (string | [string, any])[];
  extractToIndex?: boolean | { include: string[]; exclude: string[] };
  baseDir?: string;
  errorIfIndexOutOfDate?: boolean;
  defaultInlineCodeLanguage?: string | false;
};
```

### WebpackOptions

```typescript
type WebpackOptions = {
  buildId: string;
  dev: boolean;
  isServer: boolean;
  nextRuntime?: 'nodejs' | 'edge';
  config: NextConfig;
  defaultLoaders: { babel: RuleSetRule };
};
```

### WithDocsInfraOptions

```typescript
type WithDocsInfraOptions = {
  additionalPageExtensions?: string[];
  enableExportOutput?: boolean;
  demoPathPattern?: string;
  clientDemoPathPattern?: string;
  additionalDemoPatterns?: { index?: string[]; client?: string[] };
  additionalTurbopackRules?: Record<string, { loaders: string[] }>;
  performance?: { logging: boolean; notableMs?: number; showWrapperMeasures?: boolean };
  deferCodeParsing?: 'gzip' | 'json' | 'none';
  removeCommentsWithPrefix?: string[];
  notableCommentsPrefix?: string[];
  typesIndexFileName?: string;
  errorIfTypesIndexOutOfDate?: boolean;
};
```
