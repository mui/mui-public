# Load Server Page Index

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly), run: pnpm docs:validate docs-infra/pipeline/load-server-page-index'

## API Reference

### createLoadServerPageIndex

Creates a loadServerPageIndex function with custom options.

This factory function creates a LoadServerPageIndex implementation that:

1. Reads the markdown file from the provided file path
2. Parses the markdown to extract metadata using markdownToMetadata
3. Enriches the metadata with prefix and title derived from the file path
4. Returns a SitemapSectionData object with page data

**Parameters:**

| Parameter | Type                               | Default | Description                          |
| :-------- | :--------------------------------- | :------ | :----------------------------------- |
| options?  | `CreateLoadServerPageIndexOptions` | -       | Configuration options for the loader |

**Return Value:**

LoadServerPageIndex function that takes a file path and returns Promise\<SitemapSectionData | null>

```tsx
type ReturnValue = LoadServerPageIndex;
```

### extractPrefixAndTitle

Extracts prefix and title from an import path
e.g., "/path/to/app/docs-infra/components/page.mdx" -> { prefix: "/docs-infra/components/", title: "Docs Infra Components" }

**Parameters:**

| Parameter    | Type     | Default | Description |
| :----------- | :------- | :------ | :---------- |
| absolutePath | `string` | -       | -           |
| rootContext  | `string` | -       | -           |

**Return Value:**

| Property | Type     | Description |
| :------- | :------- | :---------- |
| `prefix` | `string` | -           |
| `title`  | `string` | -           |

### loadServerPageIndex

Default loadServerPageIndex function that loads page index data from a markdown file.
This function uses process.cwd() as the root context for resolving relative paths.

**Parameters:**

| Parameter | Type     | Default | Description |
| :-------- | :------- | :------ | :---------- |
| filePath  | `string` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = Promise<SitemapSectionData | null>;
```

### LoadServerPageIndex

Function type for loading page index data from a markdown file

**Parameters:**

| Parameter | Type     | Default | Description |
| :-------- | :------- | :------ | :---------- |
| filePath  | `string` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = Promise<SitemapSectionData | null>;
```

### pathSegmentToTitle

Converts a path segment to a title
e.g., "docs-infra" -> "Docs Infra", "components" -> "Components"

**Parameters:**

| Parameter | Type     | Default | Description |
| :-------- | :------- | :------ | :---------- |
| segment   | `string` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = string;
```

### stripTitleMarkdown

Recursively removes titleMarkdown fields from a heading hierarchy

**Parameters:**

| Parameter | Type               | Default | Description |
| :-------- | :----------------- | :------ | :---------- |
| hierarchy | `HeadingHierarchy` | -       | -           |

**Return Value:**

```tsx
type ReturnValue = Record<string, SitemapSection>;
```

## Additional Types

### CreateLoadServerPageIndexOptions

Options for creating a loadServerPageIndex function

```typescript
type CreateLoadServerPageIndexOptions = { rootContext?: string };
```
