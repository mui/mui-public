# Docs Infra

Build-time optimized documentation infrastructure for React and Next.js sites. This package powers MUI's documentation with syntax-highlighted code demos, auto-extracted TypeScript API references, and client-side search.

## Key Features

- **Code Demos** with syntax highlighting, multiple variants (CSS Modules, Tailwind), and live previews
- **Type Documentation** automatically extracted from TypeScript at build time
- **Search** with [Orama](https://github.com/oramasearch/orama)-powered client-side indexing
- **Zero runtime overhead** - heavy processing happens during build via webpack loaders

## Core Concepts

New to the codebase? Start with the [Architecture](./architecture/page.mdx) page to understand how the build-time optimization, factory pattern, and data flows work together.

## Installation

```bash variant=pnpm
pnpm install @mui/internal-docs-infra
```

```bash variant=yarn
yarn add @mui/internal-docs-infra
```

```bash variant=npm
npm install @mui/internal-docs-infra
```

Then configure your Next.js app with [`withDocsInfra`](./pipeline/with-docs-infra/page.mdx):

```js title="next.config.mjs"
import { withDocsInfra } from '@mui/internal-docs-infra/withDocsInfra';

export default withDocsInfra()(nextConfig);
```

## Documentation

- [Architecture](./architecture/page.mdx) - System design, data flows, and key decisions
- [Components](./components/page.mdx) - `CodeHighlighter`, `CodeProvider`, context providers
- [Hooks](./hooks/page.mdx) - `useCode`, `useDemo`, `useTypes`, `useSearch`
- [Commands](./commands/page.mdx) - CLI tools for validation
- [Factories](./factories/page.mdx) - `createDemo`, `createTypesMeta`, factory patterns
- [Pipeline](./pipeline/page.mdx) - Loaders, transformers, enhancers, and build-time tools
- [Patterns](./patterns/page.mdx) - Architectural patterns and best practices
- [Conventions](./conventions/page.mdx) - Filesystem and coding conventions

## Contributing

See the [Contributing guide](./contributing/page.mdx).

## License & Use

This project is licensed under the [MIT License](https://github.com/mui/mui-public/blob/master/LICENSE).

> [!WARNING]
> This is an internal project, and is not intended for public use. No support or stability guarantees are provided.
