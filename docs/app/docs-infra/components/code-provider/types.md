# Code Provider

[//]: types.ts '<-- Autogenerated By (do not edit the following markdown directly), run: pnpm docs:validate docs-infra/components/code-provider'

## API Reference

### CodeProvider

Provides client-side functions for fetching source code and highlighting it.
Designed for cases where you need to render code blocks or demos based on
client-side state or dynamic content loading.

Implements the Props Context Layering pattern by providing heavy functions
via context that can't be serialized across the server-client boundary.

**CodeProvider Props:**

| Prop            | Type               | Default | Description                                                         |
| :-------------- | :----------------- | :------ | :------------------------------------------------------------------ |
| loadCodeMeta    | `LoadCodeMeta`     | -       | Function to load code metadata from a URL                           |
| loadSource      | `LoadSource`       | -       | Function to load raw source code and dependencies                   |
| loadVariantMeta | `LoadVariantMeta`  | -       | Function to load specific variant metadata                          |
| sourceEnhancers | `SourceEnhancer[]` | -       | -                                                                   |
| children\*      | `React.ReactNode`  | -       | Child components that will have access to the code handling context |

## External Types

### LoadCodeMeta

```typescript
type LoadCodeMeta = (url: string) => Promise;
```

### LoadVariantMeta

```typescript
type LoadVariantMeta = (variantName: string, url: string) => Promise;
```

### LoadSource

```typescript
type LoadSource = (url: string) => Promise;
```

### SourceEnhancer

```typescript
type SourceEnhancer = (
  root: { data?: unknown | undefined },
  comments: {} | undefined,
  fileName: string,
) => { data?: unknown | undefined } | Promise;
```
